# ğŸ“ Universal File Converter - Project Structure v3.0.0

```
convert_excel/
â”œâ”€â”€ ğŸ¯ app/                              # Application Code
â”‚   â”œâ”€â”€ __init__.py                      # Package init
â”‚   â”œâ”€â”€ main.py                          # FastAPI app (31KB, 950+ lines)
â”‚   â”œâ”€â”€ excel_processor.py               # Excel handling (10KB)
â”‚   â”œâ”€â”€ universal_converter.py           # Markitdown integration (14KB)
â”‚   â”œâ”€â”€ markdown_formatter.py            # Guideline formatting (11KB)
â”‚   â”œâ”€â”€ template_processor.py            # Template system (11KB)
â”‚   â””â”€â”€ auth_oidc.py                     # Authentication (3KB)
â”‚
â”œâ”€â”€ ğŸ“š docs/                             # Documentation
â”‚   â”œâ”€â”€ README.md                        # Main readme
â”‚   â”œâ”€â”€ API_DOCUMENTATION.md             # API reference
â”‚   â”œâ”€â”€ GUIDELINE_SYSTEM.md              # Guideline rules
â”‚   â”œâ”€â”€ CONFIGURATION.md                 # Setup guide
â”‚   â”œâ”€â”€ QUICKSTART.md                    # Quick start
â”‚   â”œâ”€â”€ CHANGELOG.md                     # Version history
â”‚   â”œâ”€â”€ WEB_UI_README.md                 # UI guide
â”‚   â”œâ”€â”€ WEB_UI_UPDATE_SUMMARY.md         # UI changes
â”‚   â”œâ”€â”€ WEB_UI_IMPLEMENTATION_GUIDE.md   # UI implementation
â”‚   â”œâ”€â”€ WEB_UI_FILE_STRUCTURE.md         # UI structure
â”‚   â”œâ”€â”€ WEB_UI_COMPLETION_CHECKLIST.md   # UI checklist
â”‚   â”œâ”€â”€ WEB_UI_QUICK_REFERENCE.md        # UI quick ref
â”‚   â”œâ”€â”€ WEB_UI_FINAL_SUMMARY.md          # UI summary
â”‚   â””â”€â”€ IMPLEMENTATION_SUMMARY.txt       # Implementation notes
â”‚
â”œâ”€â”€ âš™ï¸ config/                           # Configuration
â”‚   â”œâ”€â”€ requirements.txt                 # Python dependencies
â”‚   â”œâ”€â”€ .env                             # Environment variables
â”‚   â””â”€â”€ .env.example                     # Example env
â”‚
â”œâ”€â”€ ğŸ“‹ examples/                         # Examples & Utilities
â”‚   â””â”€â”€ guideline_examples.py            # Guideline examples
â”‚
â”œâ”€â”€ ğŸ¨ templates/                        # Frontend Templates
â”‚   â”œâ”€â”€ index.html                       # Main page
â”‚   â”œâ”€â”€ login.html                       # Login page
â”‚   â”œâ”€â”€ layouts/
â”‚   â”‚   â””â”€â”€ base.html                    # Base layout
â”‚   â””â”€â”€ partials/
â”‚       â”œâ”€â”€ index_header.html
â”‚       â”œâ”€â”€ index_styles.html            # CSS (900+ lines)
â”‚       â”œâ”€â”€ index_scripts.html           # JS
â”‚       â”œâ”€â”€ index_steps.html             # Classic mode steps
â”‚       â”œâ”€â”€ index_status_and_download.html
â”‚       â”œâ”€â”€ index_loading_overlay.html
â”‚       â”œâ”€â”€ universal_steps.html         # Universal mode steps
â”‚       â”œâ”€â”€ guideline_steps.html         # Guideline mode steps
â”‚       â”œâ”€â”€ custom_template_steps.html   # Custom template steps
â”‚       â”œâ”€â”€ guideline_scripts.html       # Guideline JS (410+ lines)
â”‚       â”œâ”€â”€ login_body.html
â”‚       â”œâ”€â”€ login_styles.html
â”‚       â””â”€â”€ login_scripts.html
â”‚
â”œâ”€â”€ ğŸ“‚ outputs/                          # Conversion outputs
â”‚   â””â”€â”€ .gitkeep                         # Folder marker
â”‚
â”œâ”€â”€ ğŸ“‚ uploads/                          # Uploaded files
â”‚   â””â”€â”€ .gitkeep                         # Folder marker
â”‚
â”œâ”€â”€ ğŸ“‚ markitdown/                       # Markitdown library
â”‚   â””â”€â”€ (submodule)
â”‚
â”œâ”€â”€ ğŸ³ docker-compose.yml                # Docker compose config
â”œâ”€â”€ ğŸ³ dockerfile                        # Docker image
â”œâ”€â”€ ğŸ“ .dockerignore                     # Docker ignore
â”‚
â”œâ”€â”€ ğŸš€ main.py                           # ENTRY POINT (minimal)
â”œâ”€â”€ ğŸ“¦ .gitignore                        # Git ignore
â””â”€â”€ ğŸ“‹ .projectstructure                 # This file

```

---

## ğŸ“Š File Organization

### Core Application (`app/`)
- **main.py** - FastAPI application with all routes (31KB)
  - Health checks, authentication routes
  - Excel converter endpoints (v1)
  - Universal converter endpoints (v2)
  - Guideline template endpoints (v2)
  - Custom template endpoints (v2)

- **excel_processor.py** - Specialized Excel handling
  - Sheet detection and preview
  - Data extraction
  - DOCX/Markdown generation

- **universal_converter.py** - Markitdown integration
  - File type detection
  - Conversion to Markdown
  - Template-based conversion
  - Batch processing

- **markdown_formatter.py** - UrBox Guideline formatting
  - Auto-bold Actors/Actions/Objects
  - Quote Identifiers (IDs, emails, URLs)
  - Variable replacement
  - Entity extraction

- **template_processor.py** - 5-section templates
  - 4 template types (Excel, Document, Process, Policy)
  - Template building with fluent API
  - Variable injection
  - Predefined templates

- **auth_oidc.py** - Authentication
  - Google OAuth integration
  - Keycloak integration
  - Session management

### Documentation (`docs/`)
- **README.md** - Main documentation (19KB)
- **API_DOCUMENTATION.md** - API endpoints (10KB)
- **GUIDELINE_SYSTEM.md** - Guideline rules (8KB)
- **WEB_UI_README.md** - UI documentation (15KB)
- Plus 7 more detailed guides (60KB total)

### Configuration (`config/`)
- **requirements.txt** - Python packages
- **.env** - Environment variables
- **.env.example** - Example configuration

### Examples (`examples/`)
- **guideline_examples.py** - 7 working examples

### Frontend (`templates/`)
- **index.html** - Main page (4-mode interface)
- **login.html** - Login page
- **CSS** - 900+ lines in index_styles.html
- **JavaScript** - 410+ lines in guideline_scripts.html
- **HTML partials** - 13 template files

---

## ğŸ”„ Migration from Old Structure

### Old Structure
```
root/
â”œâ”€â”€ main.py                 (950+ lines) âŒ
â”œâ”€â”€ excel_processor.py      âŒ
â”œâ”€â”€ universal_converter.py  âŒ
â”œâ”€â”€ markdown_formatter.py   âŒ
â”œâ”€â”€ template_processor.py   âŒ
â”œâ”€â”€ auth_oidc.py           âŒ
â”œâ”€â”€ guideline_examples.py  âŒ
â”œâ”€â”€ API_DOCUMENTATION.md   âŒ
â”œâ”€â”€ README.md              âŒ
â””â”€â”€ 13 other files         âŒ
```

### New Structure
```
root/
â”œâ”€â”€ app/                    âœ…
â”‚   â”œâ”€â”€ main.py
â”‚   â”œâ”€â”€ excel_processor.py
â”‚   â”œâ”€â”€ universal_converter.py
â”‚   â”œâ”€â”€ markdown_formatter.py
â”‚   â”œâ”€â”€ template_processor.py
â”‚   â””â”€â”€ auth_oidc.py
â”‚
â”œâ”€â”€ docs/                   âœ…
â”‚   â”œâ”€â”€ API_DOCUMENTATION.md
â”‚   â”œâ”€â”€ README.md
â”‚   â””â”€â”€ 11 other docs
â”‚
â”œâ”€â”€ config/                 âœ…
â”‚   â”œâ”€â”€ requirements.txt
â”‚   â”œâ”€â”€ .env
â”‚   â””â”€â”€ .env.example
â”‚
â”œâ”€â”€ examples/               âœ…
â”‚   â””â”€â”€ guideline_examples.py
â”‚
â”œâ”€â”€ templates/              âœ… (unchanged)
â”œâ”€â”€ outputs/                âœ… (unchanged)
â”œâ”€â”€ uploads/                âœ… (unchanged)
â”œâ”€â”€ markitdown/             âœ… (unchanged)
â”‚
â”œâ”€â”€ main.py                 âœ… (ENTRY POINT)
â”œâ”€â”€ docker-compose.yml      âœ…
â”œâ”€â”€ dockerfile              âœ…
â””â”€â”€ .gitignore              âœ…
```

---

## ğŸ¯ Benefits of New Structure

| Benefit | Before | After |
|---------|--------|-------|
| **Code Organization** | All in root | Grouped by purpose |
| **Documentation** | Mixed with code | Separate docs/ |
| **Configuration** | Scattered | Centralized config/ |
| **Cleanliness** | 20+ files in root | Only essentials in root |
| **Maintainability** | Hard to find things | Intuitive structure |
| **Scalability** | Difficult to extend | Easy to add modules |
| **Professional** | Messy | Clean & organized |

---

## ğŸ“ How to Run

### Start the server:
```bash
# From project root
python main.py

# Or with uvicorn directly
uvicorn app.main:app --reload --host 0.0.0.0 --port 8000
```

### Environment variables:
Located in `config/.env`:
```bash
APP_HOST=0.0.0.0
APP_PORT=8000
APP_RELOAD=true
SECRET_KEY=your-secret-key
UPLOAD_FOLDER=uploads
OUTPUT_FOLDER=outputs
MAX_FILE_SIZE=52428800  # 50MB
```

---

## ğŸ“¦ Dependencies

See `config/requirements.txt`:
- fastapi==0.109.0
- uvicorn==0.27.0
- python-docx==1.0.2
- pandas==2.3.3
- openpyxl==3.1.5
- markitdown==0.1.5b1
- pydantic==2.5.0
- python-multipart==0.0.6
- (and more...)

---

## ğŸš€ Commands Reference

```bash
# Install dependencies
pip install -r config/requirements.txt

# Run the app
python main.py

# Run tests
pytest examples/guideline_examples.py

# Build Docker image
docker build -t universal-converter .

# Run with Docker
docker-compose up

# Check API
curl http://localhost:8000/api/v2/info

# View API docs
# Swagger: http://localhost:8000/docs
# ReDoc:   http://localhost:8000/redoc
```

---

## ğŸ“š Documentation Files

### Quick Start
- Start with `docs/README.md` (main guide)
- Then `docs/QUICKSTART.md` (setup)

### API Reference
- `docs/API_DOCUMENTATION.md` (all endpoints)
- `docs/CONFIGURATION.md` (environment setup)

### Guideline System
- `docs/GUIDELINE_SYSTEM.md` (formatting rules)
- `examples/guideline_examples.py` (working examples)

### Web UI
- `docs/WEB_UI_README.md` (UI guide)
- `docs/WEB_UI_IMPLEMENTATION_GUIDE.md` (how it works)

### Changes
- `docs/CHANGELOG.md` (version history)
- `docs/WEB_UI_UPDATE_SUMMARY.md` (recent changes)

---

## âœ… Status

- âœ… Code organized into `app/`
- âœ… Documentation consolidated in `docs/`
- âœ… Configuration centralized in `config/`
- âœ… Examples organized in `examples/`
- âœ… Templates unchanged in `templates/`
- âœ… Entry point simplified in root `main.py`
- âœ… All imports updated for new structure
- âœ… Ready for production

---

## ğŸ“ Support

For issues or questions:
1. Check relevant documentation in `docs/`
2. Review examples in `examples/`
3. Check API docs at `/docs` when server is running
4. Review code comments in `app/`

---

**Last Updated:** January 2026
**Version:** 3.0.0
**Status:** Production Ready âœ…

