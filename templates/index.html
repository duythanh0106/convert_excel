{% extends "layouts/base.html" %}
{% block title %}Universal File Converter - Guideline Template System{% endblock %}
{% block styles %}
{% include "partials/index_styles.html" %}
{% endblock %}
{% block body %}
{% include "partials/index_loading_overlay.html" %}
{% include "partials/settings_menu.html" %}

<section class="flow-screen active" id="homeScreen">
    <div class="flow-container">
        <div class="home-hero">
            <h1>Ch·ªçn lu·ªìng l√†m vi·ªác</h1>
        </div>
        <div class="flow-grid">
            <button class="nav-card" type="button" onclick="openModeSelect()">
                <div class="card-body">
                    <h3>Convert Format</h3>
                    <p>Chuy·ªÉn ƒë·ªïi ƒë·ªãnh d·∫°ng file theo nhu c·∫ßu.</p>
                </div>
                <span class="card-cta">B·∫Øt ƒë·∫ßu</span>
            </button>
            <button class="nav-card" type="button" onclick="openGuidelineAi('guideline')">
                <div class="card-body">
                    <h3>Notebook AI</h3>
                    <p>Thao t√°c v·ªõi AI Assistant.</p>
                </div>
                <span class="card-cta">B·∫Øt ƒë·∫ßu</span>
            </button>
        </div>
    </div>
</section>

<section class="flow-screen hidden" id="modeSelectScreen">
    <div class="flow-container">
        <div class="flow-header">
            <button class="back-button" type="button" onclick="openHome()">‚Üê Trang ch√≠nh</button>
            <div>
                <h2>Ch·ªçn ch·∫ø ƒë·ªô chuy·ªÉn ƒë·ªïi</h2>
            </div>
        </div>
        <div class="flow-grid">
            <button class="nav-card" type="button" onclick="openConvertFlow('classic')">
                <div class="card-body">
                    <h3>Excel Classic</h3>
                    <p>Chuy·ªÉn ƒë·ªïi Excel theo t·ª´ng b∆∞·ªõc chi ti·∫øt.</p>
                </div>
                <span class="card-cta">Ch·ªçn</span>
            </button>
            <button class="nav-card" type="button" onclick="openConvertFlow('universal')">
                <div class="card-body">
                    <h3>Universal</h3>
                    <p>Chuy·ªÉn nhi·ªÅu ƒë·ªãnh d·∫°ng sang Markdown nhanh.</p>
                </div>
                <span class="card-cta">Ch·ªçn</span>
            </button>
        </div>
    </div>
</section>

<section class="flow-screen hidden" id="convertScreen">
    <div class="flow-container flow-wide">
        <div class="flow-header">
            <button class="back-button" type="button" onclick="openModeSelect()">‚Üê Ch·ªçn l·∫°i ch·∫ø ƒë·ªô</button>
            <div>
                <h2 id="convertFlowTitle">Convert Format</h2>
                <p id="convertFlowSubtitle">Ch·ªçn m·ªôt ch·∫ø ƒë·ªô ƒë·ªÉ ti·∫øp t·ª•c.</p>
            </div>
        </div>
        <div class="page-layout">
            <aside class="card sidebar-card">
                <h2>üîß Convert Format</h2>
                <div class="sidebar-group">
                    <span class="sidebar-label">Ch·∫ø ƒë·ªô ƒëang ch·ªçn</span>
                    <div class="mode-pill" id="activeModeLabel">Excel Classic</div>
                    <p class="mode-desc" id="activeModeDesc">T·ªëi ∆∞u cho Excel v√† DOCX.</p>
                    <button class="btn btn-secondary" type="button" onclick="openModeSelect()">ƒê·ªïi ch·∫ø ƒë·ªô</button>
                </div>
            </aside>

            <main class="card main-card">
                {% include "partials/index_header.html" %}
                
                <div id="classicMode" class="mode-section">
                    {% include "partials/index_steps.html" %}
                </div>

                <div id="universalMode" class="mode-section hidden">
                    {% include "partials/universal_steps.html" %}
                </div>

                {% include "partials/index_status_and_download.html" %}
            </main>
        </div>
    </div>
</section>

<section class="flow-screen hidden" id="guidelineScreen">
    <div class="flow-container flow-wide notebook-frame">
        <button class="notebook-overlay back" type="button" aria-label="Tr·ªü v·ªÅ trang ch√≠nh" onclick="openHome()">‚Üê</button>
        <div id="notebookMode" class="mode-section active">
            {% include "partials/notebook_workspace.html" %}
        </div>
    </div>
</section>

{% endblock %}
{% block scripts %}
{% include "partials/index_scripts.html" %}
{% include "partials/universal_scripts.html" %}
{% include "partials/guideline_scripts.html" %}
{% endblock %}
